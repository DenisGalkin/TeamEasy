{% extends "base.html" %}

{% block content %}
<div class="card">
    <h2>Мои проекты</h2>
    
    {% if projects %}
        <div class="projects-grid">
            {% for project in projects %}
                <div class="project-card" onclick="location.href='{{ url_for('project_workspace', project_id=project.id) }}'" style="cursor: pointer;">
                    <h3>{{ project.name }}</h3>
                    <p>{{ project.description }}</p>
                    <div style="margin-top: 1rem;">
                        {% if project.github_url %}
                        <p><strong>GitHub:</strong> <a href="{{ project.github_url }}" target="_blank" onclick="event.stopPropagation();">Ссылка</a></p>
                        {% endif %}
                        <strong>Категория:</strong> {{ project.category_name }}
                        <p><strong>Видимость:</strong> {{ "Публичный" if project.is_public else "Приватный" }}</p>
                        <p><strong>Создан:</strong> {{ project.created_at.strftime('%d.%m.%Y') }}</p>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>У вас пока нет проектов.</p>
        <a href="{{ url_for('create_project') }}" class="btn">Создать первый проект</a>
    {% endif %}
</div>
{% endblock %}